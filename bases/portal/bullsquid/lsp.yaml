---
apiVersion: linkerd.io/v1alpha2
kind: ServiceProfile
metadata:
  name: bullsquid-api.default.svc.cluster.local
  namespace: default
spec:
  routes:
    - condition:
        method: GET
        pathRegex: /livez
      name: GET /livez (Liveness Check)
      isRetryable: true
      timeout: 2000ms
    - condition:
        method: GET
        pathRegex: /readyz
      name: GET /readyz (Readiness Check)
      isRetryable: true
      timeout: 2000ms
    - condition:
        method: GET
        pathRegex: /api/v1/plans
      name: GET /api/v1/plans (List Plans)
      isRetryable: true
      timeout: 2000ms
    - condition:
        method: POST
        pathRegex: /api/v1/plans
      name: POST /api/v1/plans (Create Plan)
      isRetryable: true
      timeout: 2000ms
    - condition:
        method: PUT
        pathRegex: /api/v1/plans/[^/]*
      name: PUT /api/v1/plans/{plan_ref} (Update Plan)
      isRetryable: true
      timeout: 2000ms
