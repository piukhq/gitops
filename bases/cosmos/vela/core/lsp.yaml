---
apiVersion: linkerd.io/v1alpha2
kind: ServiceProfile
metadata:
  name: vela-api.default.svc.cluster.local
  namespace: default
spec:
  routes:
    - condition:
        method: GET
        pathRegex: /livez
      name: GET /livez
      isRetryable: true
      timeout: 100ms
    - condition:
        method: GET
        pathRegex: /readyz
      name: GET /readyz
      isRetryable: true
      timeout: 100ms
    - condition:
        method: GET
        pathRegex: /metrics
      name: GET /metrics
      isRetryable: true
      timeout: 2000ms
    - condition:
        method: POST
        pathRegex: /bpl/retailers/[^/]*/campaigns/status_change
      name: POST /bpl/retailers/{retailer_slug}/campaigns/status_change
      isRetryable: true
      timeout: 2000ms
    - condition:
        method: GET
        pathRegex: /bpl/retailers/[^/]*/active-campaign-slugs
      name: GET /bpl/retailers/{retailer_slug}/active-campaign-slugs
      isRetryable: true
      timeout: 2000ms
    - condition:
        method: POST
        pathRegex: /bpl/retailers/[^/]*/transaction
      name: POST /bpl/retailers/{retailer_slug}/transaction
      isRetryable: true
      timeout: 2000ms
