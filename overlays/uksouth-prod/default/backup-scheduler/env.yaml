apiVersion: apps/v1
kind: Deployment
metadata:
  name: backup-scheduler
spec:
  template:
    spec:
      containers:
      - name: backup-scheduler
        env:
        - name: redis_host
          valueFrom:
            secretKeyRef:
              key: host
              name: azure-redis-common
        - name: redis_pass
          valueFrom:
            secretKeyRef:
              key: password
              name: azure-redis-common
        - name: redis_port
          valueFrom:
            secretKeyRef:
              key: port
              name: azure-redis-common
        - name: backup_storage_account_name
          valueFrom:
            secretKeyRef:
              key: account
              name: azure-storage-common
        - name: backup_storage_account_pass
          valueFrom:
            secretKeyRef:
              key: key
              name: azure-storage-common
        - name: media_storage_account_name
          valueFrom:
            secretKeyRef:
              key: account
              name: azure-storage-common
        - name: media_storage_account_pass
          valueFrom:
            secretKeyRef:
              key: key
              name: azure-storage-common
        - name: media_storage_account_container
          value: media
        - name: postgres_user_database
          value: atlas:common,europa:common,hades:hades,harmonia:harmonia,hermes:hermes,pontus:common,thanatos:common,zagreus:common
        - name: postgres_prefix
          value: bink-uksouth-prod-
