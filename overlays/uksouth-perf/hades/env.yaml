apiVersion: apps/v1
kind: Deployment
metadata:
  name: hades
spec:
  template:
    spec:
      containers:
      - name: app
        env:
        - name: HERMES_URL
          value: http://hermes-api

# Flexible Server Connection String
        - name: HADES_DATABASE_URL
          valueFrom:
            secretKeyRef:
              name: azure-pgfs
              key: common_hades

# Single Server Connection Strings
        # - name: HADES_DATABASE_NAME
        #   value: hades
        # - name: HADES_DATABASE_USER
        #   valueFrom:
        #     secretKeyRef:
        #       name: azure-pg-common
        #       key: admin_user
        # - name: HADES_DATABASE_PORT
        #   valueFrom:
        #     secretKeyRef:
        #       name: azure-pg-common
        #       key: port
        # - name: HADES_DATABASE_HOST
        #   value: 127.0.0.1
