apiVersion: apps/v1
kind: Deployment
metadata:
  name: event-horizon
spec:
  template:
    spec:
      containers:
      - name: app
        env:
        - name: OAUTH_REDIRECT_URI
          value: https://api.dev.gb.bink.com/bpl/admin/authorize/
        - name: KEY_VAULT_URI
          value: https://bink-uksouth-dev-com.vault.azure.net/
        - name: SENTRY_DSN
          value: https://47b6a0a6b67e470a90b85aa358d3a809@o503751.ingest.sentry.io/5702661
        - name: SENTRY_ENV
          value: dev
        - name: POLARIS_DATABASE_URI
          valueFrom:
            secretKeyRef:
              name: azure-pgfs
              key: common_polaris
        - name: VELA_DATABASE_URI
          valueFrom:
            secretKeyRef:
              name: azure-pgfs
              key: common_vela
        - name: CARINA_DATABASE_URI
          valueFrom:
            secretKeyRef:
              name: azure-pgfs
              key: common_carina
        - name: EVENT_HORIZON_CLIENT_ID
          value: 2043ed95-8a99-45c9-93b5-71317a50a3ee
        - name: EVENT_HORIZON_CLIENT_SECRET
          valueFrom:
            secretKeyRef:
              key: value
              name: bpl-event-horizon-sso-client-secret
        - name: REDIS_URL
          value: redis://redis:6379/0
