---
namespace: grafana

configMapGenerator:
  - name: infra-dashboards
    files:
      - infra/slo.json
  - name: app-dashboards
    files:
      - app/slo.json

commonLabels:
  grafana_dashboard: '1'

patches:
  - target:
      kind: ConfigMap
      name: infra-dashboards
    patch: |-
      apiVersion: v1
      kind: ConfigMap
      metadata:
        annotations:
          k8s-sidecar-target-directory: /tmp/dashboards/infra
        name: infra-dashboards
  - target:
      kind: ConfigMap
      name: app-dashboards
    patch: |-
      apiVersion: v1
      kind: ConfigMap
      metadata:
        annotations:
          k8s-sidecar-target-directory: /tmp/dashboards/app
        name: app-dashboards
