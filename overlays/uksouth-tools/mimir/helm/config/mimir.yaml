multitenancy_enabled: false

limits:
  max_global_series_per_user: 1000000
  max_global_series_per_metric: 1000000
  ingestion_rate: 100000

activity_tracker:
  filepath: /data/metrics-activity.log

alertmanager:
  data_dir: '/data'
  enable_api: true
  external_url: '/alertmanager'
  fallback_config_file: /etc/alertmanager-config.yaml


alertmanager_storage:
  backend: azure
  azure:
    account_name: binkuksouthtools
    account_key: 1kyRDOG27i+tS5uRaPJuD0vkroaEQMj3NO+Ho52GnUS1XyagEqVjkXGMCqzYgg9X+b1nAPNBwupU5oLvuZTMxw==
    container_name: mimir-alertmanager

frontend_worker:
  frontend_address: mimir-query-frontend-headless.mimir.svc:9095

ruler:
  enable_api: true
  rule_path: '/data'
  alertmanager_url: dnssrvnoa+http://_http-metrics._tcp.mimir-alertmanager-headless.mimir.svc.cluster.local

server:
  grpc_server_max_recv_msg_size: 104857600
  grpc_server_max_send_msg_size: 104857600
  grpc_server_max_concurrent_streams: 1000

frontend:
  log_queries_longer_than: 10s
  align_queries_with_step: true

compactor:
  data_dir: "/data"

ingester:
  ring:
    final_sleep: 0s
    num_tokens: 512

ingester_client:
  grpc_client_config:
    max_recv_msg_size: 104857600
    max_send_msg_size: 104857600

runtime_config:
  file: /var/mimir/runtime.yaml

memberlist:
  abort_if_cluster_join_fails: false
  compression_enabled: false
  join_members:
  - mimir-gossip-ring

blocks_storage:
  backend: azure
  tsdb:
    dir: /data/tsdb
  bucket_store:
    sync_dir: /data/tsdb-sync
  azure:
    account_name: binkuksouthtools
    account_key: 1kyRDOG27i+tS5uRaPJuD0vkroaEQMj3NO+Ho52GnUS1XyagEqVjkXGMCqzYgg9X+b1nAPNBwupU5oLvuZTMxw==
    container_name: mimir-blocks

ruler_storage:
  backend: azure
  azure:
    account_name: binkuksouthtools
    account_key: 1kyRDOG27i+tS5uRaPJuD0vkroaEQMj3NO+Ho52GnUS1XyagEqVjkXGMCqzYgg9X+b1nAPNBwupU5oLvuZTMxw==
    container_name: mimir-admin
